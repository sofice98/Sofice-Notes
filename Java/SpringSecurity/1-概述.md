# 👮‍ Spring Security 概述

---

## 1. 安全简介 

在 Web 开发中，安全一直是非常重要的一个方面。安全虽然属于应用的非功能性需求，但是应该在应用开发的初期就考虑进来。如果在应用开发的后期才考虑安全的问题，就可能陷入一个两难的境地：一方面，应用存在严重的安全漏洞，无法满足用户的要求，并可能造成用户的隐私数据被攻击者窃取；另一方面，应用的基本架构已经确定，要修复安全漏洞，可能需要对系统的架构做出比较重大的调整，因而需要更多的开发时间，影响应用的发布进程。因此，**从应用开发的第一天就应该把安全相关的因素考虑进来，并应用在整个开发过程中**。

市面上存在的比较有名的安全框架：**Shiro**，**Spring Security**

## 2. 什么是 Spring Security

**SpringSecurity 是基于 Spring AOP 和 Servlet 过滤器的安全框架**。它提供全面的安全性解决方案，同时在 **Web 请求级**和**方法调用级**处理身份确认和授权。

在 Spring Framework 基础上，Spring Security 充分利用了**依赖注入**（DI，Dependency Injection）和**面向切面编程**（AOP）功能，为应用系统提供声明式的安全访问控制功能，减少了为企业系统安全控制编写大量重复代码的工作。它是一个轻量级的安全框架，它确保基于Spring的应用程序提供身份验证和授权支持。它与Spring MVC有很好地集成，并配备了流行的安全算法实现捆绑在一起。

安全主要包括两个操作“认证”与“验证”(有时候也会叫做权限控制)。“认证”是为用户建立一个其声明的角色的过程，这个角色可以一个用户、一个设备或者一个系统。“验证”指的是一个用户在你的应用中能够执行某个操作。在到达授权判断之前，角色已经在身份认证过程中建立了。

🚩 **Spring Security核心功能**包括 **用户认证（Authentication）** 、**用户授权（Authorization）** 和 **攻击防护** 3 个部分。

- <u>用户认证指的是验证某个用户是否为系统中的合法主体，也就是说用户能否访问该系统</u>。用户认证一般要求用户提供用户名和密码。系统通过校验用户名和密码来完成认证过程。
- <u>用户授权指的是验证某个用户是否有权限执行某个操作</u>。在一个系统中，不同用户所具有的权限是不同的。比如对一个文件来说，有的用户只能进行读取，而有的用户可以进行修改。一般来说，系统会为不同的用户分配不同的角色，而每个角色则对应一系列的权限。
- <u>攻击防护即防止伪造身份</u>

## 3. SpringSecurity 🆚 Shiro

### ① 相同点

- 认证功能

- 授权功能

- 加密功能

- 会话功能

- 缓存支持

- remeberMe 功能

……

### ② 不同点

**优点：**

- Spring Security基于Spring开发，项目中如果使用Spring作为基础，配合Spring Security做权限更加方便。而Shiro需要和Spring进行整合。

- Spring Security功能比Shiro更加丰富，例如安全防护方面。

- Spring Security社区资源相对比Shiro更加丰富。

- 如果使用的是Spring Boot，Spring Cloud的话，三者可以无缝集成。

**缺点：**

- Shiro的配置和使用比较简单，Spring Security上手复杂些。

- Shiro依赖性低，不需要任何框架和容器，可以独立运行，而Spring Security依赖Spring容器。

## 📚 References

- [林祥纤 - Spring Boot+Spring Security 系列](https://www.iteye.com/blog/412887952-qq-com-2441544)